{"api": "PrintWriter.write", "prompt": "Please answer my code questions using the given API following this format: <<<api>>>: $API\n<<<code>>>: $CODE\n<<<explanation>>>: $EXPLANATION.\nFor API PrintWriter.write, the API usage rule is: Write data to a PrintWriter, and if an Exception occurs, manage it by catching the Exception.\nWrite data to a PrintWriter, then close it, and if an Exception occurs during this process, handle it by catching the Exception.\nWrite data to a PrintWriter, then close it.\n\nQuestion: Writing to Text File from Comma Delimited ArrayList: :I have created a Song class that includes data members for a Song (Title, artist, album,length). I already have a .txt file that contains different songs which is stored into an array list. After the user finishes adding or deleting songs the program should write to the text file in the original format of the text file (comma separated).My problem is that the program writes to the file without the commas and it is causing my program to crash when I re-run it by getting an ArrayIndexOutOfBoundsException. I have attempted to use nested for-loops and the printf function but have had no success. How can i write to the file with its original formatting and avoid crashing after i write to it and attempt to run it again?This is the format of the .txt FileRock Lobster,The B-52's,The B-52's,4:37Walk Like An Egyptian,The Bangles,Different Light,3:24This is my Song Class with toString() methodpublic class Song {    //Declaring all data members.    private String title;    private String artist;    private String album;    private String length;    private static int songCounter = 0;    //Constructors for Song class.          public Song(String title, String artist, String album, String length){        this.title = title;        this.artist = artist;        this.album = album;        this.length = length;        songCounter++;    }    //Get and Set methods     public String getTitle(){        return title;    }    public void setTitle(String title) {        this.title = title;    }    public String getArtist(){        return artist;    }    public void setArtist(String artist) {        this.artist = artist;    }    public String getAlbum(){        return album;    }    public void setAlbum(String album){        this.album = album;    }    public String getLength(){        return length;    }    public void setLength(String length){        this.length = length;    }    public static int getSongCounter(){        return songCounter;    }    public int compareArtist(Song o){        return artist.compareTo(o.artist);    }    public int compareTitle(Song o){        return title.compareTo(o.title);    }    //Overriding the toString() function.    @Override    public String toString(){        return title +\",\"+artist+\",\"+album+\",\"+length;    }}      This is my Main Class that reads from the file and contains a write methodpublic class Library {public static void main(String[] args) {    ArrayList <Song> songList = new ArrayList <Song> ();    boolean repeat = true;    try{        Scanner read = new Scanner (new File(\"SongList.txt\"));        do{            String line = read.nextLine();            String [] tokens = line.split(\",\");            songList.add(new Song(tokens[0], tokens[1], tokens[2], tokens[3]));        }while(read.hasNext());        read.close();    }catch (FileNotFoundException e){        System.out.println(\"File not found.\");    }    while ( repeat ){        System.out.println(\"\\nSelect a Function\");        System.out.println(\"1. Search Song\");        System.out.println(\"2. Add Song\");        System.out.println(\"3. Delete Song\");        System.out.println(\"4. Display Songs\");        System.out.println(\"5. Quit\");        switch (MenuInputCheck(1, 5)){        case 1: searchSong(songList);                break;        case 2: addSong(songList);                break;        case 3: deleteSong(songList);                break;        case 4: displaySorted(songList);                break;        case 5: saveFile(songList);                repeat = false;                break;        }    }}public static void saveFile(ArrayList <Song> songList){    try{        PrintWriter writer = new PrintWriter(\"SongList.txt\");        for (int i = 0; i < songList.size();i++){            writer.println(i);        }        writer.close();    } catch (FileNotFoundException e){        System.out.println(\"File not found.\");    }}\nPlease using this api: PrintWriter.write.\nAnswer:", "response": "<<<api>>>: PrintWriter.write\n<<<code>>>: \npublic static void saveFile(ArrayList <Song> songList){\n    try{\n        PrintWriter writer = new PrintWriter(\"SongList.txt\");\n        for (int i = 0; i < songList.size();i++){\n            writer.write(songList.get(i).toString());\n            if(i != songList.size()-1){\n                writer.write(\",\");\n            }\n        }\n        writer.close();\n    } catch (FileNotFoundException e){\n        System.out.println(\"File not found.\");\n    }\n}\n<<<explanation>>>: To write the songList to the file with the original formatting, you can use the PrintWriter.write method. In the saveFile method, iterate through the songList and use writer.write to write each song's toString representation to the file. After writing each song, check if it is not the last song in the list (i != songList.size()-1), and if so, write a comma (\",\") to separate the songs. Finally, close the PrintWriter to ensure that the changes are saved to the file.", "gpt_response": {"id": "chatcmpl-8Wh1tmgrmr4WXzSckImSqdLmi2xIO", "object": "chat.completion", "created": 1702802593, "model": "gpt-3.5-turbo-0613", "choices": [{"index": 0, "message": {"role": "assistant", "content": "<<<api>>>: PrintWriter.write\n<<<code>>>: \npublic static void saveFile(ArrayList <Song> songList){\n    try{\n        PrintWriter writer = new PrintWriter(\"SongList.txt\");\n        for (int i = 0; i < songList.size();i++){\n            writer.write(songList.get(i).toString());\n            if(i != songList.size()-1){\n                writer.write(\",\");\n            }\n        }\n        writer.close();\n    } catch (FileNotFoundException e){\n        System.out.println(\"File not found.\");\n    }\n}\n<<<explanation>>>: To write the songList to the file with the original formatting, you can use the PrintWriter.write method. In the saveFile method, iterate through the songList and use writer.write to write each song's toString representation to the file. After writing each song, check if it is not the last song in the list (i != songList.size()-1), and if so, write a comma (\",\") to separate the songs. Finally, close the PrintWriter to ensure that the changes are saved to the file."}, "logprobs": null, "finish_reason": "stop"}], "usage": {"prompt_tokens": 983, "completion_tokens": 214, "total_tokens": 1197}, "system_fingerprint": null}}